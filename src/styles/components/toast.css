/* =================================
   TOAST CONTAINER
   ================================= */
@utility toast-container {
	@apply fixed top-3 left-3 right-3 z-[1000];
	@apply flex items-start gap-2.5 p-3;
	@apply rounded-[10px] overflow-hidden;
	@apply transition-all duration-200;

	background-color: var(--color-surface);
	border: 1px solid var(--color-border);
	box-shadow:
		0 4px 16px rgba(0, 0, 0, 0.08),
		0 1px 3px rgba(0, 0, 0, 0.04);
	backdrop-filter: blur(8px);
	animation: toast-enter 280ms cubic-bezier(0.34, 1.56, 0.64, 1);

	&.toast-exiting {
		animation: toast-exit 200ms ease-in forwards;
	}
}

/* =================================
   TOAST TYPE VARIANTS
   ================================= */
@utility toast-success {
	--toast-accent: var(--color-success);
}

@utility toast-error {
	--toast-accent: var(--color-error);
}

@utility toast-warning {
	--toast-accent: var(--color-warning);
}

@utility toast-info {
	--toast-accent: var(--color-primary);
}

/* =================================
   TOAST ELEMENTS
   ================================= */
@utility toast-icon {
	@apply shrink-0 flex items-center justify-center;
	color: var(--toast-accent);
}

@utility toast-message {
	@apply flex-1 text-[13px] leading-[1.45];
	color: var(--color-text-primary);
}

@utility toast-dismiss {
	@apply shrink-0 flex items-center justify-center;
	@apply w-6 h-6 -my-1 -mr-1.5;
	@apply bg-transparent border-none rounded-md cursor-pointer;
	@apply transition-colors duration-150;

	color: var(--color-text-subtle);

	&:hover {
		background-color: var(--color-border);
		color: var(--color-text-primary);
	}

	&:active {
		transform: scale(0.95);
	}
}

@utility toast-progress {
	@apply absolute bottom-0 left-0 right-0 h-0.5;

	background-color: var(--toast-accent);
	opacity: 0.4;
	transform-origin: left;
	animation: toast-progress 3000ms linear forwards;
}

/* =================================
   TOAST ANIMATIONS
   ================================= */
@keyframes toast-enter {
	from {
		opacity: 0;
		transform: translateY(-100%) scale(0.96);
	}
	to {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

@keyframes toast-exit {
	from {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
	to {
		opacity: 0;
		transform: translateY(-12px) scale(0.96);
	}
}

@keyframes toast-progress {
	from {
		transform: scaleX(1);
	}
	to {
		transform: scaleX(0);
	}
}
