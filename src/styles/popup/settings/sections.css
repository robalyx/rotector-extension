/* =================================
   SETTINGS SECTIONS
   ================================= */

@utility settings-header {
	@apply w-full px-3 py-2 border-b text-base font-semibold;
	border-color: var(--color-border);
	color: var(--color-text-heading);
	user-select: none;
	margin: 0;
	cursor: pointer;
	transition: all 0.15s ease;

	&:hover {
		color: var(--color-primary);
	}
}

@utility settings-category {
	@apply flex flex-col gap-2;
}

@utility setting-item {
	@apply flex items-center justify-between gap-1.5 flex-nowrap;
}

@utility setting-label {
	@apply flex items-center gap-0.5 text-xs flex-1 min-w-0 leading-tight;
	color: var(--color-text);
}

@utility api-system-label {
	@apply text-2xs ml-1;
	color: var(--color-text-tertiary);
}

@utility setting-highlighted {
	@apply relative;
	animation: setting-highlight 4s ease-out;
}

@keyframes setting-highlight {
	0% {
		background-color: color-mix(in srgb, var(--color-primary) 20%, transparent);
		box-shadow: 0 0 0 2px var(--color-primary);
		border-radius: 6px;
	}
	25% {
		background-color: color-mix(in srgb, var(--color-primary) 15%, transparent);
		box-shadow: 0 0 0 1px var(--color-primary);
	}
	100% {
		background-color: transparent;
		box-shadow: none;
	}
}

@utility toggle-all-button {
	@apply px-1.5 py-0.5 text-2xs rounded-sm cursor-pointer transition-colors;
	background-color: var(--color-bg-tertiary);
	color: var(--color-text-secondary);
	border: 1px solid var(--color-border);

	&:hover {
		background-color: var(--color-bg-secondary);
		color: var(--color-text);
	}
}

@utility toggle-all-active {
	background-color: var(--color-primary);
	color: white;
	border-color: var(--color-primary);

	&:hover {
		background-color: var(--color-primary-hover);
		border-color: var(--color-primary-hover);
	}
}

@utility experimental-nested-container {
	@apply mt-2 ml-2 rounded-sm border p-1.5 px-2 pb-2;
	border-color: var(--color-border-subtle);
	background-color: color-mix(in srgb, var(--color-bg-content) 60%, transparent);
}

@utility legend-line {
	@apply flex-1 mx-2 h-px;
	background-color: var(--color-border-subtle);
}

@utility nested-legend {
	@apply flex items-center justify-end -mt-3.5 mb-1 px-1;
}

@utility preset-selector-row {
	@apply flex items-center justify-between px-2 py-2 mb-2;
}

@utility preset-selector-label {
	@apply text-xs font-medium;
	color: var(--color-text);
}

@utility preset-selector-controls {
	@apply flex items-center gap-1.5;
}

@utility preset-selector-dropdown {
	@apply px-2.5 py-1.5 text-xs rounded-md border cursor-pointer appearance-none pr-7;
	background-color: var(--color-bg-tertiary);
	border-color: var(--color-border-subtle);
	color: var(--color-text);
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
	background-repeat: no-repeat;
	background-position: right 8px center;

	&:hover {
		background-color: var(--color-card-hover);
	}

	&:focus {
		@apply outline-none ring-1;
		--tw-ring-color: var(--color-primary);
	}
}
